import{asd}from"./functions/resize";asd();import{num1,num2}from"./functions/small";num1(),num2();import"./components/pagination";const apiCity=document.getElementById("city"),nameFirst=document.getElementById("name"),nameLast=document.getElementById("surname"),numberPhone=document.getElementById("number"),coment=document.getElementById("comment"),inputWeight=document.getElementById("weight"),inputWidth=document.getElementById("width"),inputHeight=document.getElementById("height"),rngWeight=document.getElementById("weight-range"),rngWidth=document.getElementById("width-range"),rngHeight=document.getElementById("height-range"),loadParcel=document.getElementById("load"),deliveryParcel=document.getElementById("del"),cargo=document.getElementById("cargo"),dateInput=document.getElementById("date"),inputPrice=document.getElementById("price"),btn=document.getElementById("btn"),modalWidth=document.querySelector("#modal-width span"),modalHeight=document.querySelector("#modal-height span"),modalWeight=document.querySelector("#modal-weight span"),modalCity=document.querySelector("#modal-city span"),modalDate=document.querySelector("#modal-date span"),modalAppartment=document.querySelector("#modal-appartment span"),modalName=document.querySelector("#modal-name span"),modalSurname=document.querySelector("#modal-surname span"),modalPhone=document.querySelector("#modal-phone span"),modalComments=document.querySelector("#modal-comments span"),modalCost=document.querySelector("#modal-cost span");document.addEventListener("DOMContentLoaded",()=>{fetch("https://wft-geo-db.p.rapidapi.com/v1/geo/cities",{method:"GET",headers:{"x-rapidapi-key":"3b4f890b69mshb7870c383d2b4d0p17928bjsn15f31234a566","x-rapidapi-host":"wft-geo-db.p.rapidapi.com"}}).then(e=>e.json()).then(e=>{e.data.forEach(e=>{const t=e.name,n=document.createElement("option");apiCity.append(n),n.innerHTML=t})}).catch(e=>{console.error(e)});datepicker(dateInput,{formatter:(e,t)=>{const n=t.toLocaleDateString();e.value=n},minDate:new Date(Date.parse(new Date)+3456e5),onSelect:e=>dateVal=e.toLocaleDateString()});let e=document.querySelectorAll('input[type="tel"]');function t(){cargo.innerHTML=+inputWeight.value+0+"kg",cargo.style.width=+inputWidth.value+80+"px",cargo.style.height=+inputHeight.value+80+"px"}function n(e=0){if(inputWeight.value>=150){let t=10*inputWeight.value+1e3+5*inputWidth.value+15*inputHeight.value+e;inputPrice.value=t+" грн",inputPrice.value=t.toLocaleString("ru")+" грн"}else{let t=10*inputWeight.value+5*inputWidth.value+15*inputHeight.value+e;inputPrice.value=t+" грн",inputPrice.value=t.toLocaleString("ru")+" грн"}}function a(){deliveryParcel.addEventListener("change",(function(e){let t=0;t=e.target.checked?1e3:0,n(t)}))}new Inputmask("+3 (999) 999-99-99").mask(e),noUiSlider.create(rngWeight,{start:0,tooltips:!0,connect:[!0,!1],step:1,range:{min:0,max:300},format:wNumb({decimals:0})}),function(){const e=[inputWeight];rngWeight.noUiSlider.on("update",(function(o,i){e[i].value=Math.round(o[i]),n(),t(),a()})),e.forEach((e,t)=>{e.addEventListener("input",e=>{((e,t)=>{let n=[];n[e]=t,rngWeight.noUiSlider.set(n)})(t,e.currentTarget.value),n(),a()})})}(),noUiSlider.create(rngWidth,{start:0,tooltips:!0,connect:[!0,!1],step:1,range:{min:0,max:15},format:wNumb({decimals:0})}),function(){const e=[inputWidth];rngWidth.noUiSlider.on("update",(function(o,i){e[i].value=Math.round(o[i]),n(),t(),a()})),e.forEach((e,t)=>{e.addEventListener("input",e=>{((e,t)=>{let n=[];n[e]=t,rngWidth.noUiSlider.set(n)})(t,e.currentTarget.value),n(),a()})})}(),noUiSlider.create(rngHeight,{start:0,tooltips:!0,connect:[!0,!1],step:1,range:{min:0,max:15},format:wNumb({decimals:0})}),function(){const e=[inputHeight];rngHeight.noUiSlider.on("update",(function(o,i){e[i].value=Math.round(o[i]),n(),t(),a()})),e.forEach((e,t)=>{e.addEventListener("input",e=>{((e,t)=>{let n=[];n[e]=t,rngHeight.noUiSlider.set(n)})(t,e.currentTarget.value),n(),a()})})}(),btn.addEventListener("click",e=>{e.preventDefault();const t=document.querySelectorAll("[data-modal]"),n=document.querySelector(".modal"),a=document.querySelector("[data-close]");function o(){n.classList.add("show"),n.classList.remove("hide"),document.body.style.overflow="hidden",clearInterval(d)}function i(){n.classList.add("hide"),n.classList.remove("show"),document.body.style.overflow=""}t.forEach(e=>{e.addEventListener("click",o)}),a.addEventListener("click",i),n.addEventListener("click",e=>{e.target===n&&i()}),document.addEventListener("keydown",e=>{"Escape"===e.code&&n.classList.contains("show")&&i()});const d=setInterval(o,1e3);modalCity.innerHTML=apiCity.value,modalWidth.innerHTML=inputWidth.value+" m",modalHeight.innerHTML=inputHeight.value+" m",modalWeight.innerHTML=inputWeight.value+" kg",modalDate.innerHTML=dateInput.value,modalName.innerHTML=nameFirst.value,modalSurname.innerHTML=nameLast.value,modalPhone.innerHTML=numberPhone.value,modalComments.innerHTML=coment.value,modalCost.innerHTML=inputPrice.value,loadParcel.checked?modalAppartment.innerHTML="yes":modalAppartment.innerHTML="no"})});